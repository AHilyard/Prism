// Evaluates all properties from gradle.properties to allow project and rootProject references.
def tempProperties = new Properties()
tempProperties.load(file("gradle.properties").newReader())
tempProperties.each { key, val ->
	if (key in project.properties)
	{
		def tempVal;
		try
		{
			tempVal = Eval.xy(rootProject, project, "${val}".replaceAll("rootProject.", "x.").replaceAll("project.", "y."))
			//println "${key} = ${tempVal}"
		}
		catch (Exception e) {
			tempVal = val
			//println "an exception occurred: ${e}"
		}
		finally {
			Eval.x(prop, "x.setProperty(\"${key}\", \"${tempVal}\")")
		}
	}
}